exports.id=64,exports.ids=[64],exports.modules={1038:(e,o,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,6840,23)),Promise.resolve().then(t.t.bind(t,8771,23)),Promise.resolve().then(t.t.bind(t,3225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,3982,23))},8213:(e,o,t)=>{Promise.resolve().then(t.bind(t,3083))},3083:(e,o,t)=>{"use strict";t.r(o),t.d(o,{AuthProvider:()=>D,default:()=>E,useAuth:()=>c});var s=t(2295),r=t(3729),a=t(4020);let n=(0,r.createContext)(void 0),c=()=>{let e=(0,r.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},l=(e,o)=>{},i=()=>null,u=()=>{},d=(e,o="error")=>{},D=({children:e})=>{let[o,t]=(0,r.useState)(null),[c,D]=(0,r.useState)(!0),[E,A]=(0,r.useState)(!1),[h,C]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{let e=i();if(console.log("\uD83C\uDFC1 INIT DEBUG - Auth data from localStorage:",e),e){console.log("\uD83C\uDFC1 INIT DEBUG - User from localStorage:",e.user),console.log("\uD83C\uDFC1 INIT DEBUG - User role from localStorage:",e.user?.role);let o=await (0,a.k_)(a.Pn.AUTH.LOGIN,{method:"POST",body:e.credentials});console.log("\uD83C\uDFC1 INIT DEBUG - Verification response:",o),o.success&&o.data&&o.data.success?(console.log("\uD83C\uDFC1 INIT DEBUG - Setting user from localStorage:",e.user),t(e.user),C(e.token),A(!0)):(console.log("\uD83C\uDFC1 INIT DEBUG - Verification failed, clearing auth data"),u())}else console.log("\uD83C\uDFC1 INIT DEBUG - No auth data found in localStorage");D(!1)})()},[]);let U=async(e,o)=>{D(!0);try{let s=await (0,a.k_)(a.Pn.AUTH.LOGIN,{method:"POST",body:{email:e,password:o}});if(console.log("\uD83D\uDD0D AUTH DEBUG - API Response:",s),console.log("\uD83D\uDD0D AUTH DEBUG - Response success:",s.success),console.log("\uD83D\uDD0D AUTH DEBUG - Response data:",s.data),console.log("\uD83D\uDD0D AUTH DEBUG - User data:",s.data?.user),console.log("\uD83D\uDD0D AUTH DEBUG - User role:",s.data?.user?.role),!s.success||!s.data||!s.data.success)return{success:!1,error:s.data?.error||s.error||"Login failed"};{let e=`token_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r={...s.data.user,password:o};return l(e,r),t(s.data.user),C(e),A(!0),console.log("✅ AUTH DEBUG - User set in context:",s.data.user),console.log("✅ AUTH DEBUG - Auth state updated, isAuthenticated: true"),{success:!0,user:s.data.user,token:e}}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Login failed"}}finally{D(!1)}},g=async e=>{try{let o=await (0,a.k_)(a.Pn.AUTH.CHECK_EMAIL,{method:"POST",body:{email:e}});if(console.log("\uD83D\uDD0D EMAIL CHECK DEBUG - Raw response:",o),console.log("\uD83D\uDD0D EMAIL CHECK DEBUG - Response success:",o.success),console.log("\uD83D\uDD0D EMAIL CHECK DEBUG - Response data:",o.data),!o.success||!o.data)return{success:!1,exists:!1,error:o.error||"Check failed"};{let e=o.data;if(console.log("\uD83D\uDD0D EMAIL CHECK DEBUG - Email allowed:",e.allowed),console.log("\uD83D\uDD0D EMAIL CHECK DEBUG - Account exists:",e.account_exists),e.allowed)return{success:!0,exists:e.account_exists||!1,name:e.name,role:e.role};return{success:!1,exists:!1,error:"Email not pre-approved for registration"}}}catch(e){return console.error("\uD83D\uDD0D EMAIL CHECK DEBUG - Exception:",e),{success:!1,exists:!1,error:e instanceof Error?e.message:"Check failed"}}},m=async e=>{try{let o=await (0,a.k_)(a.Pn.AUTH.CREATE_ACCOUNT,{method:"POST",body:e});if(o.success&&o.data&&o.data.success)return await U(e.email,e.password);return{success:!1,error:o.data?.error||o.error||"Registration failed"}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Registration failed"}}};return s.jsx(n.Provider,{value:{user:o,isLoading:c,isAuthenticated:E,authToken:h,login:U,logout:()=>{u(),t(null),C(null),A(!1)},checkEmailAvailability:g,register:m,checkAdminAccess:(e=!0)=>E?o?.role==="admin"||(e&&d("You need to be an admin to access this page!"),!1):(e&&d("You need to be logged in as an admin to access this page!"),!1),showPopup:d},children:e})},E=n},4020:(e,o,t)=>{"use strict";t.d(o,{Pn:()=>u,Sv:()=>i,WA:()=>r,cT:()=>l,k6:()=>c,k_:()=>n});let s="http://127.0.0.1:8000",r=()=>null,a=e=>{let o=e||r();return o?{Authorization:`${o.email}:${o.password}`}:{}},n=async(e,o={})=>{try{let t=`${s}${e}`;console.log("\uD83C\uDF10 API CALL DEBUG - URL:",t),console.log("\uD83C\uDF10 API CALL DEBUG - API_BASE_URL:",s),console.log("\uD83C\uDF10 API CALL DEBUG - endpoint:",e),console.log("\uD83C\uDF10 API CALL DEBUG - Options:",o);let r={headers:{"Content-Type":"application/json",...o.headers},...o};r.body&&"object"==typeof r.body&&(r.body=JSON.stringify(r.body),console.log("\uD83C\uDF10 API CALL DEBUG - Stringified body:",r.body)),console.log("\uD83C\uDF10 API CALL DEBUG - Making fetch request to:",t);let a=await fetch(t,r);if(console.log("\uD83C\uDF10 API CALL DEBUG - Response status:",a.status),console.log("\uD83C\uDF10 API CALL DEBUG - Response ok:",a.ok),!a.ok){let e=await a.text();return console.log("\uD83C\uDF10 API CALL DEBUG - Error text:",e),{success:!1,error:e||`HTTP ${a.status}: ${a.statusText}`}}let n=await a.json();console.log("\uD83C\uDF10 API CALL DEBUG - Raw response data:",n);let c={success:!0,data:n};return console.log("\uD83C\uDF10 API CALL DEBUG - Final result:",c),c}catch(e){return console.log("\uD83C\uDF10 API CALL DEBUG - Catch error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}},c=async(e,o={})=>{let t=a();return n(e,{...o,headers:{"Content-Type":"application/json",...t,...o.headers}})},l=async(e,o)=>{try{let t=a(),r=`${s}${e}`,n=await fetch(r,{method:"POST",headers:{...t},body:o});if(!n.ok){let e=await n.text();return{success:!1,error:e||`HTTP ${n.status}: ${n.statusText}`}}let c=await n.json();return{success:!0,data:c}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Upload failed"}}},i=async(e,o)=>{try{let t=a(),r=`${s}${e}`,n=await fetch(r,{headers:t});if(n.ok){let e=await n.blob(),t=window.URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=o,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(t),document.body.removeChild(s)}else throw Error("Download failed")}catch(e){throw console.error("Download error:",e),e}},u={AUTH:{CHECK_EMAIL:"/api/auth/check-email",CREATE_ACCOUNT:"/api/auth/create-account",LOGIN:"/api/auth/login"},BLOGS:{LIST:"/api/blogs",GET:e=>`/api/blogs/${e}`,CREATE:"/api/blogs",UPDATE:e=>`/api/blogs/${e}`,DELETE:e=>`/api/blogs/${e}`},RESOURCES:{LIST:"/api/resources",UPLOAD:"/api/admin/resources/upload",DOWNLOAD:e=>`/api/resources/${e}/download`,DELETE:e=>`/api/resources/${e}`},ADMIN:{DASHBOARD_STATS:"/api/admin/dashboard/stats",MEMBERS:"/api/admin/members",MEMBER_UPDATE:e=>`/api/admin/members/${e}`,MEMBER_DELETE:e=>`/api/admin/members/${e}`,ADD_EMAIL:"/api/admin/members/add-email",AUTHORS:"/api/admin/authors",CREATE_AUTHOR:"/api/admin/authors"},HEALTH:"/health"}},6016:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>u,metadata:()=>i});var s=t(5036);t(5023);var r=t(6843);let a=(0,r.createProxy)(String.raw`C:\WEBProjMUN\KIITMUNSocietyWebsite-main\frontend\src\contexts\AuthContext.js`),{__esModule:n,$$typeof:c}=a;a.default,(0,r.createProxy)(String.raw`C:\WEBProjMUN\KIITMUNSocietyWebsite-main\frontend\src\contexts\AuthContext.js#useAuth`);let l=(0,r.createProxy)(String.raw`C:\WEBProjMUN\KIITMUNSocietyWebsite-main\frontend\src\contexts\AuthContext.js#AuthProvider`),i={title:"KIIT MUN Society",description:"Official website of KIIT Model United Nations Society - Fostering diplomatic excellence and global awareness",keywords:["MUN","Model United Nations","KIIT","Diplomacy","Student Organization"],openGraph:{title:"KIIT MUN Society",description:"Official website of KIIT Model United Nations Society",type:"website",locale:"en_US"}};function u({children:e}){return(0,s.jsxs)("html",{lang:"en",className:"dark",children:[(0,s.jsxs)("head",{children:[s.jsx("link",{rel:"icon",href:"/favicon.ico",type:"image/x-icon"}),s.jsx("script",{src:"https://sheet2api.com/v1/template.js",async:!0})]}),(0,s.jsxs)("body",{className:"bg-black text-white",children:[s.jsx("div",{className:"bg-pattern-overlay"}),s.jsx(l,{children:e})]})]})}},5023:()=>{}};