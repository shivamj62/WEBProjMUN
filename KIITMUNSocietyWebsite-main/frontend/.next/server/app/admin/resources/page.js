(()=>{var e={};e.id=463,e.ids=[463],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},5603:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(482),a=r(9108),l=r(2563),i=r.n(l),n=r(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=["",{children:["admin",{children:["resources",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4053)),"C:\\WEBProjMUN\\KIITMUNSocietyWebsite-main\\frontend\\src\\app\\admin\\resources\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5615)),"C:\\WEBProjMUN\\KIITMUNSocietyWebsite-main\\frontend\\src\\app\\admin\\layout.js"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,6016)),"C:\\WEBProjMUN\\KIITMUNSocietyWebsite-main\\frontend\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\WEBProjMUN\\KIITMUNSocietyWebsite-main\\frontend\\src\\app\\admin\\resources\\page.js"],u="/admin/resources/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/resources/page",pathname:"/admin/resources",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8110:(e,t,r)=>{Promise.resolve().then(r.bind(r,34))},5230:(e,t,r)=>{Promise.resolve().then(r.bind(r,2597))},9224:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(3729),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let r=(0,s.forwardRef)(({color:r="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:d="",children:c,...u},x)=>(0,s.createElement)("svg",{ref:x,...a,width:i,height:i,stroke:r,strokeWidth:o?24*Number(n)/Number(i):n,className:["lucide",`lucide-${l(e)}`,d].join(" "),...u},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r}},6885:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},7121:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},7418:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},8219:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},8120:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},8765:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8271:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3380:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},9895:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},4513:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2254:(e,t,r)=>{e.exports=r(4767)},34:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(2295),a=r(2254),l=r(447),i=r(9224);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var o=r(9895),d=r(7121),c=r(8219);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,i.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var x=r(8120),m=r(3083);let h=({children:e})=>{let t=(0,a.useRouter)(),r=(0,a.usePathname)(),{user:i,logout:h}=(0,m.useAuth)(),p=[{name:"Dashboard",href:"/admin",icon:n,current:"/admin"===r},{name:"Members Management",href:"/admin/members",icon:o.Z,current:"/admin/members"===r},{name:"Blogs Management",href:"/admin/blogs",icon:d.Z,current:"/admin/blogs"===r},{name:"Resources Management",href:"/admin/resources",icon:c.Z,current:"/admin/resources"===r}];return s.jsx(l.Z,{requiredRole:"admin",children:(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800",children:[s.jsx("div",{className:"sticky top-0 z-50 bg-gray-900/95 backdrop-blur-xl border-b border-gray-700/50 shadow-lg",children:(0,s.jsxs)("div",{className:"px-6 py-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(u,{className:"h-6 w-6 text-white"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-white",children:"KIIT MUN Society"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Admin Dashboard"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[s.jsx("div",{className:"h-8 w-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-sm font-bold text-white",children:i?.name?.charAt(0)||"A"})}),(0,s.jsxs)("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-semibold text-white",children:i?.name||"Admin"}),s.jsx("p",{className:"text-xs text-gray-400 capitalize",children:i?.role||"admin"})]})]}),(0,s.jsxs)("button",{onClick:()=>{h(),t.push("/")},className:"flex items-center px-4 py-2 text-sm font-medium text-gray-300 rounded-xl hover:bg-red-600/20 hover:text-red-400 transition-all duration-200 group",children:[s.jsx(x.Z,{className:"mr-2 h-4 w-4 text-gray-400 group-hover:text-red-400 transition-colors duration-200"}),"Sign Out"]})]})]}),s.jsx("nav",{className:"flex items-center space-x-2 overflow-x-auto",children:p.map(e=>{let r=e.icon;return(0,s.jsxs)("button",{onClick:()=>t.push(e.href),className:`
                      flex items-center px-4 py-2.5 text-sm font-medium rounded-xl transition-all duration-200 group whitespace-nowrap
                      ${e.current?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-800/50 hover:text-white"}
                    `,children:[s.jsx(r,{className:`mr-2 h-4 w-4 ${e.current?"text-white":"text-gray-400 group-hover:text-white"} transition-colors duration-200`}),e.name]},e.name)})})]})}),s.jsx("div",{className:"w-full",children:s.jsx("main",{className:"p-0",children:e})})]})})}},2597:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(2295),a=r(3729),l=r(3083),i=r(9224);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var o=r(8765),d=r(7418),c=r(7121),u=r(6885);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,i.Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);var m=r(8271),h=r(4513),p=r(3380);let g=()=>{let{user:e}=(0,l.useAuth)(),[t,r]=(0,a.useState)([]),[i,g]=(0,a.useState)(!0),[y,b]=(0,a.useState)(!1),[f,j]=(0,a.useState)(""),[v,w]=(0,a.useState)("all"),[N,k]=(0,a.useState)(1),[C,M]=(0,a.useState)(1),[P,Z]=(0,a.useState)(0),[D,S]=(0,a.useState)(!1),[E,U]=(0,a.useState)(!1),[$,T]=(0,a.useState)(null),[_,A]=(0,a.useState)({title:"",description:"",file:null}),[R,q]=(0,a.useState)({title:"",description:""}),z=(0,a.useRef)(null),I="http://127.0.0.1:8000",L=()=>{let e=localStorage.getItem("munAuth");if(!e)return{};let{email:t,password:r}=JSON.parse(e);return{Authorization:`${t}:${r}`,"Content-Type":"application/json"}},F=()=>{let e=localStorage.getItem("munAuth");if(!e)return{};let{email:t,password:r}=JSON.parse(e);return{Authorization:`${t}:${r}`}},B=async()=>{try{g(!0);let e=new URLSearchParams({page:N.toString(),limit:"10"});f&&e.append("search",f),"all"!==v&&e.append("file_type",v);let t=await fetch(`${I}/api/resources?${e}`,{headers:L()});if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);let s=await t.json();r(s.resources||[]),M(s.pages||1),Z(s.total||0)}catch(e){console.error("Error fetching resources:",e),r([])}finally{g(!1)}},W=async e=>{if(e.preventDefault(),!_.file||!_.title.trim()){alert("Please provide both title and file");return}try{b(!0);let e=new FormData;e.append("title",_.title),e.append("description",_.description),e.append("file",_.file);let t=await fetch(`${I}/api/admin/resources/upload`,{method:"POST",headers:F(),body:e});if(!t.ok){let e=await t.json();throw Error(e.detail||`HTTP error! status: ${t.status}`)}let r=await t.json();console.log("Upload successful:",r),A({title:"",description:"",file:null}),S(!1),z.current&&(z.current.value=""),B(),alert("Resource uploaded successfully!")}catch(e){console.error("Error uploading resource:",e),alert(`Upload failed: ${e.message}`)}finally{b(!1)}},H=async e=>{if(e.preventDefault(),!$||!R.title.trim()){alert("Please provide a title");return}try{let e=await fetch(`${I}/api/resources/${$.id}`,{method:"PUT",headers:L(),body:JSON.stringify({title:R.title,description:R.description})});if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);U(!1),T(null),q({title:"",description:""}),B(),alert("Resource updated successfully!")}catch(e){console.error("Error updating resource:",e),alert(`Update failed: ${e.message}`)}},O=async e=>{if(confirm("Are you sure you want to delete this resource?"))try{let t=await fetch(`${I}/api/resources/${e}`,{method:"DELETE",headers:L()});if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);B(),alert("Resource deleted successfully!")}catch(e){console.error("Error deleting resource:",e),alert(`Delete failed: ${e.message}`)}},V=async(e,t)=>{try{let r=await fetch(`${I}/api/resources/${e}/download`,{headers:L()});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);let s=await r.blob(),a=window.URL.createObjectURL(s),l=document.createElement("a");l.style.display="none",l.href=a,l.download=t,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(a),document.body.removeChild(l),B()}catch(e){console.error("Error downloading resource:",e),alert(`Download failed: ${e.message}`)}},K=e=>{switch(e.toLowerCase()){case"pdf":return"\uD83D\uDCC4";case"doc":case"docx":return"\uD83D\uDCDD";case"txt":return"\uD83D\uDCC3";case"zip":return"\uD83D\uDCE6";default:return"\uD83D\uDCC1"}},G=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},X=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),J=e=>{T(e),q({title:e.title,description:e.description||""}),U(!0)};return(0,a.useEffect)(()=>{B()},[N,f,v]),(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 p-6",children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsx("div",{className:"bg-gradient-to-r from-gray-800/50 to-gray-900/50 backdrop-blur-xl border border-gray-700/50 rounded-2xl p-8 shadow-xl",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-green-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-xl",children:"\uD83D\uDCC1"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Resources Management"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Upload, organize, and manage files and documents."})]})]}),(0,s.jsxs)("button",{onClick:()=>S(!0),className:"flex items-center px-6 py-3 bg-gradient-to-r from-green-600 to-blue-600 text-white font-semibold rounded-xl hover:from-green-500 hover:to-blue-500 transition-all duration-200 shadow-lg hover:shadow-xl",children:[s.jsx(n,{className:"h-5 w-5 mr-2"}),"Upload Resource"]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-gray-800/50 to-gray-900/50 backdrop-blur-xl border border-gray-700/50 rounded-2xl p-6 shadow-xl",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[s.jsx(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Search resources...",value:f,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,s.jsxs)("select",{value:v,onChange:e=>w(e.target.value),className:"pl-10 pr-8 py-2 bg-gray-700/50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"pdf",children:"PDF"}),s.jsx("option",{value:"doc",children:"Word Documents"}),s.jsx("option",{value:"txt",children:"Text Files"}),s.jsx("option",{value:"zip",children:"Archives"})]})]})]})}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-gray-800/50 to-gray-900/50 backdrop-blur-xl border border-gray-700/50 rounded-2xl p-6 shadow-xl",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-white",children:["Resources (",P,")"]}),(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:["Page ",N," of ",C]})]}),i?(0,s.jsxs)("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-gray-400 mt-2",children:"Loading resources..."})]}):0===t.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx(c.Z,{className:"h-16 w-16 text-gray-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No Resources Found"}),s.jsx("p",{className:"text-gray-400",children:f||"all"!==v?"Try adjusting your search or filter criteria.":"Upload your first resource to get started."})]}):s.jsx("div",{className:"space-y-4",children:t.map(e=>s.jsx("div",{className:"bg-gray-700/30 border border-gray-600/50 rounded-lg p-4 hover:bg-gray-700/50 transition-all duration-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[s.jsx("div",{className:"text-2xl",children:K(e.file_type)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-white truncate",children:e.title}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-400 mt-1",children:[s.jsx("span",{children:e.original_filename}),s.jsx("span",{children:G(e.file_size)}),s.jsx("span",{children:e.file_type.toUpperCase()}),(0,s.jsxs)("span",{children:[e.download_count," downloads"]})]}),e.description&&s.jsx("p",{className:"text-gray-300 text-sm mt-2 line-clamp-2",children:e.description}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Uploaded ",X(e.upload_date)]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>V(e.id,e.original_filename),className:"p-2 text-green-400 hover:text-green-300 hover:bg-green-400/10 rounded-lg transition-all duration-200",title:"Download",children:s.jsx(u.Z,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>J(e),className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-400/10 rounded-lg transition-all duration-200",title:"Edit",children:s.jsx(x,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>O(e.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-400/10 rounded-lg transition-all duration-200",title:"Delete",children:s.jsx(m.Z,{className:"h-4 w-4"})})]})]})},e.id))}),C>1&&(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2 mt-6",children:[s.jsx("button",{onClick:()=>k(e=>Math.max(e-1,1)),disabled:1===N,className:"px-3 py-2 text-sm text-gray-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:C},(e,t)=>t+1).map(e=>s.jsx("button",{onClick:()=>k(e),className:`px-3 py-2 text-sm rounded-lg transition-all duration-200 ${N===e?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:e},e)),s.jsx("button",{onClick:()=>k(e=>Math.min(e+1,C)),disabled:N===C,className:"px-3 py-2 text-sm text-gray-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),D&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-6 w-full max-w-md border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Upload Resource"}),s.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-white transition-colors duration-200",children:s.jsx(h.Z,{className:"h-6 w-6"})})]}),(0,s.jsxs)("form",{onSubmit:W,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),s.jsx("input",{type:"text",value:_.title,onChange:e=>A(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter resource title",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),s.jsx("textarea",{value:_.description,onChange:e=>A(t=>({...t,description:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter resource description",rows:"3"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"File *"}),s.jsx("input",{ref:z,type:"file",accept:".pdf,.doc,.docx,.txt,.zip",onChange:e=>A(t=>({...t,file:e.target.files[0]})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-600 file:text-white file:cursor-pointer hover:file:bg-blue-500",required:!0}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Supported formats: PDF, DOC, DOCX, TXT, ZIP (max 50MB)"})]}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>S(!1),className:"flex-1 px-4 py-2 text-gray-400 border border-gray-600 rounded-lg hover:text-white hover:border-gray-500 transition-all duration-200",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:y,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white font-semibold rounded-lg hover:from-green-500 hover:to-blue-500 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:y?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Uploading..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Upload"]})})]})]})]})}),E&&$&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-6 w-full max-w-md border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Edit Resource"}),s.jsx("button",{onClick:()=>U(!1),className:"text-gray-400 hover:text-white transition-colors duration-200",children:s.jsx(h.Z,{className:"h-6 w-6"})})]}),(0,s.jsxs)("form",{onSubmit:H,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),s.jsx("input",{type:"text",value:R.title,onChange:e=>q(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter resource title",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),s.jsx("textarea",{value:R.description,onChange:e=>q(t=>({...t,description:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter resource description",rows:"3"})]}),(0,s.jsxs)("div",{className:"bg-gray-700/30 p-3 rounded-lg",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-300",children:[s.jsx("strong",{children:"File:"})," ",$.original_filename]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"File cannot be changed. Upload a new resource to replace this file."})]}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>U(!1),className:"flex-1 px-4 py-2 text-gray-400 border border-gray-600 rounded-lg hover:text-white hover:border-gray-500 transition-all duration-200",children:"Cancel"}),(0,s.jsxs)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-500 hover:to-purple-500 transition-all duration-200 flex items-center justify-center",children:[s.jsx(x,{className:"h-4 w-4 mr-2"}),"Update"]})]})]})]})})]})}},447:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(2295),a=r(3729),l=r(2254),i=r(3083);let n=({children:e,requiredRole:t,redirectTo:r="/auth/login"})=>{let{user:n,isAuthenticated:o,isLoading:d,showPopup:c}=(0,i.useAuth)(),[u,x]=(0,a.useState)(!0),m=(0,l.useRouter)();return((0,a.useEffect)(()=>{if(!d){if(!o){"admin"===t?(c("You need to be logged in as an admin to access this page!"),m.push("/")):m.push(r);return}if(t&&n?.role!==t&&"admin"===t){c("You need to be an admin to access this page!"),m.push("/");return}x(!1)}},[o,d,n,t,m,r,c]),d||u)?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary-50",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-secondary-600",children:"Loading..."})]})}):s.jsx(s.Fragment,{children:e})}},5615:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let s=(0,r(6843).createProxy)(String.raw`C:\WEBProjMUN\KIITMUNSocietyWebsite-main\frontend\src\app\admin\layout.js`),{__esModule:a,$$typeof:l}=s,i=s.default},4053:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let s=(0,r(6843).createProxy)(String.raw`C:\WEBProjMUN\KIITMUNSocietyWebsite-main\frontend\src\app\admin\resources\page.js`),{__esModule:a,$$typeof:l}=s,i=s.default}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[470,64],()=>r(5603));module.exports=s})();