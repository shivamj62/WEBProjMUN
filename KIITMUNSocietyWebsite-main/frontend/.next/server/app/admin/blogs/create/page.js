(()=>{var e={};e.id=476,e.ids=[476],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},6959:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>c});var a=s(482),r=s(9108),n=s(2563),i=s.n(n),l=s(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["admin",{children:["blogs",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,123)),"C:\\WEBProjMUN\\KIITMUNSocietyWebsite-main\\frontend\\src\\app\\admin\\blogs\\create\\page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5615)),"C:\\WEBProjMUN\\KIITMUNSocietyWebsite-main\\frontend\\src\\app\\admin\\layout.js"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6016)),"C:\\WEBProjMUN\\KIITMUNSocietyWebsite-main\\frontend\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\WEBProjMUN\\KIITMUNSocietyWebsite-main\\frontend\\src\\app\\admin\\blogs\\create\\page.js"],m="/admin/blogs/create/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/blogs/create/page",pathname:"/admin/blogs/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1071:(e,t,s)=>{Promise.resolve().then(s.bind(s,9262))},9262:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(2295),r=s(447),n=s(2465),i=s(3109),l=s(3083),o=s(3729),c=s(3024),d=s(4513),m=s(7121),x=s(5794),h=s(16),p=s(3380),u=s(4020),g=s(2254);let b=()=>{let{user:e}=(0,l.useAuth)(),t=(0,g.useRouter)(),[s,b]=(0,o.useState)({title:"",content:"",competition_date:"",image1:null,image2:null}),[j,y]=(0,o.useState)(!1),[N,f]=(0,o.useState)(""),[v,w]=(0,o.useState)({image1:null,image2:null}),P=e=>{let{name:t,value:s}=e.target;b(e=>({...e,[t]:s}))},C=(e,t)=>{let s=e.target.files?.[0];if(s){if(!s.type.startsWith("image/")){alert("Please select an image file");return}if(s.size>10485760){alert("Image size should be less than 10MB");return}b(e=>({...e,[t]:s}));let e=new FileReader;e.onload=e=>{w(s=>({...s,[t]:e.target?.result}))},e.readAsDataURL(s)}},_=e=>{b(t=>({...t,[e]:null})),w(t=>({...t,[e]:null}))},M=async e=>{e.preventDefault(),y(!0),f("");try{let e=new FormData;e.append("title",s.title),e.append("content",s.content),s.competition_date&&e.append("competition_date",s.competition_date),s.image1&&e.append("image1",s.image1),s.image2&&e.append("image2",s.image2);let a=await (0,u.cT)(u.Pn.BLOGS.CREATE,e);a.success?t.push("/admin?tab=blogs"):f(a.error||"Failed to create blog post")}catch(e){f("Failed to create blog post. Please try again."),console.error("Blog creation error:",e)}finally{y(!1)}};return e?.role!=="admin"?a.jsx(r.Z,{children:a.jsx("div",{className:"min-h-screen bg-secondary-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-secondary-700",children:"Only administrators can create blog posts."})]})})}):a.jsx(r.Z,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-secondary-50",children:[a.jsx(n.default,{}),a.jsx("main",{className:"pt-24 pb-16",children:(0,a.jsxs)("div",{className:"container-custom max-w-4xl",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("button",{onClick:()=>t.back(),className:"btn-ghost border border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white flex items-center",children:[a.jsx(c.Z,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-serif font-bold text-secondary-900",children:"Create New Blog Post"}),a.jsx("p",{className:"text-secondary-600",children:"Share the latest MUN conference reports and updates"})]})]})}),(0,a.jsxs)("div",{className:"card",children:[N&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(d.Z,{className:"w-5 h-5 text-red-600"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-red-800",children:N})})]})}),(0,a.jsxs)("form",{onSubmit:M,className:"space-y-8",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-secondary-900 flex items-center",children:[a.jsx(m.Z,{className:"w-5 h-5 mr-2"}),"Blog Information"]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Blog Title *"}),a.jsx("input",{type:"text",id:"title",name:"title",value:s.title,onChange:P,required:!0,className:"input-field",placeholder:"Enter an engaging blog title..."})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"competition_date",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Competition Date"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-secondary-400"}),a.jsx("input",{type:"date",id:"competition_date",name:"competition_date",value:s.competition_date,onChange:P,className:"input-field pl-10"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Blog Content *"}),a.jsx("textarea",{id:"content",name:"content",value:s.content,onChange:P,required:!0,rows:12,className:"input-field resize-y",placeholder:"Write your blog content here... You can include details about the MUN conference, experiences, achievements, and insights."}),(0,a.jsxs)("p",{className:"text-sm text-secondary-500 mt-1",children:[s.content.length," characters"]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-secondary-900 flex items-center",children:[a.jsx(h.Z,{className:"w-5 h-5 mr-2"}),"Blog Images"]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Primary Image"}),v.image1?(0,a.jsxs)("div",{className:"relative",children:[a.jsx("img",{src:v.image1,alt:"Preview 1",className:"w-full h-48 object-cover rounded-lg border border-secondary-200"}),a.jsx("button",{type:"button",onClick:()=>_("image1"),className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1 hover:bg-red-700 transition-colors",children:a.jsx(d.Z,{className:"w-4 h-4"})})]}):(0,a.jsxs)("label",{className:"cursor-pointer",children:[(0,a.jsxs)("div",{className:"w-full h-48 border-2 border-dashed border-secondary-300 rounded-lg flex flex-col items-center justify-center text-secondary-500 hover:border-primary-400 hover:text-primary-600 transition-colors",children:[a.jsx(p.Z,{className:"w-8 h-8 mb-2"}),a.jsx("span",{children:"Click to upload image"}),a.jsx("span",{className:"text-xs",children:"PNG, JPG, GIF up to 10MB"})]}),a.jsx("input",{type:"file",accept:"image/*",onChange:e=>C(e,"image1"),className:"hidden"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Secondary Image"}),v.image2?(0,a.jsxs)("div",{className:"relative",children:[a.jsx("img",{src:v.image2,alt:"Preview 2",className:"w-full h-48 object-cover rounded-lg border border-secondary-200"}),a.jsx("button",{type:"button",onClick:()=>_("image2"),className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1 hover:bg-red-700 transition-colors",children:a.jsx(d.Z,{className:"w-4 h-4"})})]}):(0,a.jsxs)("label",{className:"cursor-pointer",children:[(0,a.jsxs)("div",{className:"w-full h-48 border-2 border-dashed border-secondary-300 rounded-lg flex flex-col items-center justify-center text-secondary-500 hover:border-primary-400 hover:text-primary-600 transition-colors",children:[a.jsx(p.Z,{className:"w-8 h-8 mb-2"}),a.jsx("span",{children:"Click to upload image"}),a.jsx("span",{className:"text-xs",children:"PNG, JPG, GIF up to 10MB"})]}),a.jsx("input",{type:"file",accept:"image/*",onChange:e=>C(e,"image2"),className:"hidden"})]})]})]}),a.jsx("p",{className:"text-sm text-secondary-600",children:"Images are optional but recommended. The primary image will be used as the blog thumbnail."})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-secondary-200",children:[a.jsx("button",{type:"button",onClick:()=>t.back(),className:"btn-ghost border border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white",disabled:j,children:"Cancel"}),a.jsx("button",{type:"submit",disabled:j||!s.title||!s.content,className:"btn-ghost border border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white flex items-center",children:j?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),"Creating Blog..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(p.Z,{className:"w-4 h-4 mr-2"}),"Create Blog Post"]})})]})]})]})]})}),a.jsx(i.default,{})]})})}},123:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>i});let a=(0,s(6843).createProxy)(String.raw`C:\WEBProjMUN\KIITMUNSocietyWebsite-main\frontend\src\app\admin\blogs\create\page.js`),{__esModule:r,$$typeof:n}=a,i=a.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[470,945,303,752,64,818,707,125],()=>s(6959));module.exports=a})();