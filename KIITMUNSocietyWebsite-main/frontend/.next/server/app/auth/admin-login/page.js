(()=>{var e={};e.id=491,e.ids=[491],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},28:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=t(482),a=t(9108),i=t(2563),l=t.n(i),n=t(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d=["",{children:["auth",{children:["admin-login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,468)),"C:\\KIITMUNSocietyWebsite-main\\frontend\\src\\app\\auth\\admin-login\\page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6016)),"C:\\KIITMUNSocietyWebsite-main\\frontend\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\KIITMUNSocietyWebsite-main\\frontend\\src\\app\\auth\\admin-login\\page.js"],u="/auth/admin-login/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/auth/admin-login/page",pathname:"/auth/admin-login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3687:(e,s,t)=>{Promise.resolve().then(t.bind(t,4296))},5961:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1222:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},3148:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7958:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},2254:(e,s,t)=>{e.exports=t(4767)},4296:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var r=t(2295),a=t(3729),i=t(2254);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(9224).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);var n=t(5961),o=t(1206),d=t(7958),c=t(1222),u=t(3148),m=t(3083),x=t(783),h=t.n(x),p=t(1223),g=t.n(p);let j=()=>{let[e,s]=(0,a.useState)({email:"",password:""}),[t,x]=(0,a.useState)(!1),[p,j]=(0,a.useState)(!1),[f,y]=(0,a.useState)(""),{login:D,logout:b,isAuthenticated:N,user:v}=(0,m.useAuth)(),E=(0,i.useRouter)();(0,a.useEffect)(()=>{console.log("\uD83D\uDD0D USEEFFECT DEBUG - isAuthenticated:",N),console.log("\uD83D\uDD0D USEEFFECT DEBUG - user:",v),console.log("\uD83D\uDD0D USEEFFECT DEBUG - user.role:",v?.role),N&&v&&("admin"===v.role?(console.log("✅ USEEFFECT - Admin detected, redirecting to /admin"),setTimeout(()=>{E.push("/admin")},1e3)):(console.log("❌ USEEFFECT - Non-admin user detected:",v.role),b(),setTimeout(()=>{},500)))},[N,v,E,b]);let w=t=>{s({...e,[t.target.name]:t.target.value}),f&&y("")},A=async s=>{s.preventDefault(),j(!0),y("");try{let s=await D(e.email,e.password);(console.log("\uD83D\uDD0D LOGIN DEBUG - Full result:",s),console.log("\uD83D\uDD0D LOGIN DEBUG - Result success:",s.success),console.log("\uD83D\uDD0D LOGIN DEBUG - Result user:",s.user),console.log("\uD83D\uDD0D LOGIN DEBUG - User role:",s.user?.role),console.log("\uD83D\uDD0D LOGIN DEBUG - Role type:",typeof s.user?.role),s.success)?s.user?.role==="admin"?(console.log("✅ Admin login successful - redirecting to /admin"),E.push("/admin")):(console.log("❌ Non-admin user detected:",s.user?.role),b(),setTimeout(()=>E.push("/"),1e3)):(console.log("❌ Login failed:",s.error),y(s.error||"Invalid admin credentials"))}catch(e){y("Login failed. Please try again.")}j(!1)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-100 flex items-center justify-center py-12 px-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex justify-center mb-4",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx(g(),{src:"/images/logo/kiit-mun-logo.png",alt:"KIIT MUN Society",width:64,height:64,className:"w-16 h-16 object-contain"}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-red-600 rounded-full flex items-center justify-center",children:r.jsx(l,{className:"w-3 h-3 text-white"})})]})}),r.jsx("h1",{className:"text-3xl font-serif font-bold text-red-900 mb-2",children:"Admin Access"}),r.jsx("p",{className:"text-red-700",children:"Administrative login for KIIT MUN Society"})]}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx(n.Z,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,r.jsxs)("div",{className:"text-sm text-red-800",children:[r.jsx("p",{className:"font-medium mb-1",children:"Restricted Access"}),r.jsx("p",{children:"This login is exclusively for administrators. Only accounts with admin privileges can access this area."})]})]})}),(0,r.jsxs)("div",{className:"card border-red-200",children:[r.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded",children:r.jsx("button",{type:"button",onClick:async()=>{console.log("\uD83E\uDDEA DIRECT API TEST STARTING...");try{let e=await fetch("http://127.0.0.1:8000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"admin@munsociety.edu",password:"admin123"})}),s=await e.json();console.log("\uD83E\uDDEA DIRECT API RESPONSE:",s),console.log("\uD83E\uDDEA USER ROLE:",s.user?.role),console.log("\uD83E\uDDEA ROLE CHECK:",s.user?.role==="admin"),alert(`API Test: Role = ${s.user?.role}, Is Admin = ${s.user?.role==="admin"}`)}catch(e){console.error("\uD83E\uDDEA DIRECT API ERROR:",e),alert(`API Error: ${e.message}`)}},className:"text-sm bg-yellow-600 text-white px-3 py-1 rounded hover:bg-yellow-700",children:"\uD83E\uDDEA Test Direct API Call"})}),(0,r.jsxs)("form",{onSubmit:A,className:"space-y-6",children:[f&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(n.Z,{className:"w-4 h-4 text-red-600"}),r.jsx("span",{className:"text-sm text-red-800",children:f})]})}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"email",className:"form-label",children:"Admin Email"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(o.Z,{className:"h-5 w-5 text-red-400"})}),r.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:w,className:"input-field pl-10 border-red-200 focus:border-red-500 focus:ring-red-500",placeholder:"admin@kiitmun.org"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"password",className:"form-label",children:"Admin Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(d.Z,{className:"h-5 w-5 text-red-400"})}),r.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:e.password,onChange:w,className:"input-field pl-10 pr-10 border-red-200 focus:border-red-500 focus:ring-red-500",placeholder:"Enter admin password"}),r.jsx("button",{type:"button",onClick:()=>x(!t),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:t?r.jsx(c.Z,{className:"h-5 w-5 text-red-400"}):r.jsx(u.Z,{className:"h-5 w-5 text-red-400"})})]})]}),(0,r.jsxs)("button",{type:"submit",disabled:p,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:[p?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):r.jsx(l,{className:"w-5 h-5 mr-2"}),p?"Authenticating...":"Admin Login"]})]})]}),(0,r.jsxs)("div",{className:"text-center mt-8 space-y-3",children:[r.jsx("div",{className:"text-sm text-red-700",children:"Not an administrator?"}),(0,r.jsxs)("div",{className:"flex justify-center space-x-4",children:[r.jsx(h(),{href:"/auth/login",className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Member Login"}),r.jsx("span",{className:"text-red-300",children:"•"}),r.jsx(h(),{href:"/",className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Back to Home"})]})]}),r.jsx("div",{className:"mt-8 text-center",children:r.jsx("div",{className:"bg-red-100 border border-red-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-red-800",children:[r.jsx(l,{className:"w-4 h-4"}),r.jsx("span",{children:"Secure admin authentication"})]})})})]})})}},468:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let r=(0,t(6843).createProxy)(String.raw`C:\KIITMUNSocietyWebsite-main\frontend\src\app\auth\admin-login\page.js`),{__esModule:a,$$typeof:i}=r,l=r.default}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[470,945,900],()=>t(28));module.exports=r})();