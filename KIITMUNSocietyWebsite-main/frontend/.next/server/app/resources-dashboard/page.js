(()=>{var e={};e.id=782,e.ids=[782],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7432:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>d});var a=t(482),r=t(9108),l=t(2563),i=t.n(l),n=t(8300),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["resources-dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9488)),"C:\\KIITMUNSocietyWebsite-main\\frontend\\src\\app\\resources-dashboard\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6016)),"C:\\KIITMUNSocietyWebsite-main\\frontend\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\KIITMUNSocietyWebsite-main\\frontend\\src\\app\\resources-dashboard\\page.js"],x="/resources-dashboard/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/resources-dashboard/page",pathname:"/resources-dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4896:(e,s,t)=>{Promise.resolve().then(t.bind(t,1302))},6885:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},3592:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]])},7121:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},7418:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},8219:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},3632:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},8416:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]])},508:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},626:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},8765:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8271:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8209:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},2254:(e,s,t)=>{e.exports=t(4767)},1302:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var a=t(2295),r=t(447),l=t(2465),i=t(3109),n=t(3083),c=t(3729),d=t(8209),o=t(7121),x=t(8765),m=t(7418),h=t(8219),u=t(6885),p=t(8271),y=t(4020);let j=()=>{let{user:e}=(0,n.useAuth)(),[s,t]=(0,c.useState)([]),[j,f]=(0,c.useState)([]),[g,v]=(0,c.useState)(!0),[b,N]=(0,c.useState)(""),[w,k]=(0,c.useState)("all");(0,c.useEffect)(()=>{Z()},[]),(0,c.useEffect)(()=>{M()},[b,w,s]);let Z=async()=>{try{let e=await (0,y.k6)(y.Pn.RESOURCES.LIST);e.success&&e.data&&e.data.resources&&t(e.data.resources)}catch(e){console.error("Failed to fetch resources:",e)}finally{v(!1)}},M=()=>{let e=s;b&&(e=e.filter(e=>e.title?.toLowerCase().includes(b.toLowerCase())||e.description?.toLowerCase().includes(b.toLowerCase())||e.uploaded_by?.toLowerCase().includes(b.toLowerCase()))),"all"!==w&&(e=e.filter(e=>{let s=e.file_path||"",t=s.split(".").pop()?.toLowerCase();switch(w){case"documents":return["pdf","doc","docx","txt"].includes(t);case"images":return["jpg","jpeg","png","gif","webp"].includes(t);case"videos":return["mp4","avi","mov","wmv"].includes(t);default:return!0}})),f(e)},C=async e=>{try{await (0,y.Sv)(y.Pn.RESOURCES.DOWNLOAD(e.id),e.title||"download")}catch(e){console.error("Download failed:",e)}},S=async s=>{if(!e?.role||"admin"!==e.role){alert("Only administrators can delete resources");return}if(confirm("Are you sure you want to delete this resource?"))try{(await (0,y.k6)(y.Pn.RESOURCES.DELETE(s),{method:"DELETE"})).success&&await Z()}catch(e){console.error("Delete failed:",e)}},P=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]},_=e=>{let s=e?.split(".").pop()?.toLowerCase()||"";return["jpg","jpeg","png","gif","webp"].includes(s)?a.jsx(Image,{className:"w-8 h-8 text-green-600"}):["mp4","avi","mov","wmv"].includes(s)?a.jsx(d.Z,{className:"w-8 h-8 text-red-600"}):["pdf","doc","docx","txt"].includes(s)?a.jsx(o.Z,{className:"w-8 h-8 text-blue-600"}):a.jsx(File,{className:"w-8 h-8 text-secondary-600"})},A=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return a.jsx(r.Z,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[a.jsx(l.default,{}),a.jsx("main",{className:"pt-24 pb-16",children:(0,a.jsxs)("div",{className:"container-custom",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-white mb-6",children:"Resources Dashboard"}),a.jsx("div",{className:"w-24 h-1 bg-primary-500 mx-auto mb-6"}),(0,a.jsxs)("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:["Welcome back, ",a.jsx("span",{className:"font-semibold text-primary-400",children:e?.full_name||e?.name}),"! Access and manage your exclusive MUN Society resources."]})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(x.Z,{className:"h-5 w-5 text-secondary-400"})}),a.jsx("input",{type:"text",value:b,onChange:e=>N(e.target.value),className:"input-field pl-10",placeholder:"Search resources by title, description, or uploader..."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(m.Z,{className:"h-5 w-5 text-secondary-400"}),(0,a.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"input-field min-w-[150px]",children:[a.jsx("option",{value:"all",children:"All Files"}),a.jsx("option",{value:"documents",children:"Documents"}),a.jsx("option",{value:"images",children:"Images"}),a.jsx("option",{value:"videos",children:"Videos"})]})]})]}),g?a.jsx("div",{className:"grid gap-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>a.jsx("div",{className:"card animate-pulse",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-secondary-300 rounded"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-secondary-300 rounded w-1/2 mb-2"}),a.jsx("div",{className:"h-3 bg-secondary-300 rounded w-1/4"})]})]})},s))}):0===j.length?a.jsx("div",{className:"text-center py-16",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"w-24 h-24 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(h.Z,{className:"w-12 h-12 text-primary-600"})}),a.jsx("h3",{className:"text-2xl font-serif font-bold text-secondary-900 mb-4",children:b||"all"!==w?"No resources found":"No resources available"}),a.jsx("p",{className:"text-secondary-700 mb-6",children:b||"all"!==w?"Try adjusting your search or filter criteria.":"Resources will appear here when they are uploaded by administrators."}),(b||"all"!==w)&&(0,a.jsxs)("div",{className:"flex gap-4 justify-center",children:[b&&a.jsx("button",{onClick:()=>N(""),className:"btn-ghost",children:"Clear Search"}),"all"!==w&&a.jsx("button",{onClick:()=>k("all"),className:"btn-ghost",children:"Show All Files"})]})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[a.jsx("p",{className:"text-secondary-600",children:b||"all"!==w?`Found ${j.length} resource${1!==j.length?"s":""}`:`${j.length} resource${1!==j.length?"s":""} available`}),e?.role==="admin"&&a.jsx("span",{className:"text-sm bg-primary-100 text-primary-700 px-3 py-1 rounded-full",children:"Admin Access"})]}),a.jsx("div",{className:"grid gap-4",children:j.map(s=>a.jsx("div",{className:"card group hover:shadow-lg transition-shadow border-l-4 border-primary-600",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 flex-1 min-w-0",children:[a.jsx("div",{className:"flex-shrink-0",children:_(s.file_path)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-lg font-semibold text-secondary-900 truncate",children:s.title}),a.jsx("p",{className:"text-secondary-700 text-sm truncate",children:s.description}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-secondary-500 space-x-4 mt-1",children:[a.jsx("span",{children:P(s.file_size)}),(0,a.jsxs)("span",{children:["Uploaded by ",s.uploaded_by]}),a.jsx("span",{children:A(s.created_at)})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,a.jsxs)("button",{onClick:()=>C(s),className:"btn-ghost flex items-center",children:[a.jsx(u.Z,{className:"w-4 h-4 mr-2"}),"Download"]}),e?.role==="admin"&&a.jsx("button",{onClick:()=>S(s.id),className:"btn-ghost border-red-200 text-red-600 hover:bg-red-50 flex items-center",children:a.jsx(p.Z,{className:"w-4 h-4"})})]})]})},s.id))})]}),(0,a.jsxs)("div",{className:"mt-12 grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-serif font-bold text-white mb-4",children:"Resource Guidelines"}),(0,a.jsxs)("div",{className:"text-gray-300",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Allowed File Types:"}),(0,a.jsxs)("ul",{className:"text-sm space-y-1 mb-4",children:[a.jsx("li",{children:"• Documents: PDF, DOC, DOCX, TXT"}),a.jsx("li",{children:"• Images: JPG, PNG, GIF, WebP"}),a.jsx("li",{children:"• Videos: MP4, AVI, MOV"})]}),a.jsx("h4",{className:"font-semibold mb-2",children:"Important Notes:"}),(0,a.jsxs)("ul",{className:"text-sm space-y-1",children:[a.jsx("li",{children:"• Maximum file size: 50MB"}),a.jsx("li",{children:"• Resources are available to all members"}),a.jsx("li",{children:"• Only administrators can upload resources"}),a.jsx("li",{children:"• Only administrators can delete resources"})]})]})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-serif font-bold text-green-900 mb-4",children:"Your Account"}),a.jsx("div",{className:"text-green-800",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-semibold",children:"Name:"})," ",e?.full_name||e?.name]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-semibold",children:"Email:"})," ",e?.email]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-semibold",children:"Role:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${e?.role==="admin"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:e?.role==="admin"?"Administrator":"Member"})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-semibold",children:"Access Level:"})," Full Resources Access"]})]})})]})]})]})}),a.jsx(i.default,{})]})})}},447:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var a=t(2295),r=t(3729),l=t(2254),i=t(3083);let n=({children:e,requiredRole:s,redirectTo:t="/auth/login"})=>{let{user:n,isAuthenticated:c,isLoading:d,showPopup:o}=(0,i.useAuth)(),[x,m]=(0,r.useState)(!0),h=(0,l.useRouter)();return((0,r.useEffect)(()=>{if(!d){if(!c){"admin"===s?(o("You need to be logged in as an admin to access this page!"),h.push("/")):h.push(t);return}if(s&&n?.role!==s&&"admin"===s){o("You need to be an admin to access this page!"),h.push("/");return}m(!1)}},[c,d,n,s,h,t,o]),d||x)?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary-50",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-secondary-600",children:"Loading..."})]})}):a.jsx(a.Fragment,{children:e})}},9488:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,t(6843).createProxy)(String.raw`C:\KIITMUNSocietyWebsite-main\frontend\src\app\resources-dashboard\page.js`),{__esModule:r,$$typeof:l}=a,i=a.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[470,945,303,752,900,818,707],()=>t(7432));module.exports=a})();