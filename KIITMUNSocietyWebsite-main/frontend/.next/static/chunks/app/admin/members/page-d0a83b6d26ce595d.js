(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{8967:function(e,a,t){Promise.resolve().then(t.bind(t,2984))},2984:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return eA}});var s=t(7437),r=t(4512),l=t(2265),o=t(3216),n=t(7660),d=t(2169);let i=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:a,className:(0,d.cn)("w-full caption-bottom text-sm",t),...r})})});i.displayName="Table";let c=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("thead",{ref:a,className:(0,d.cn)("[&_tr]:border-b",t),...r})});c.displayName="TableHeader";let m=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tbody",{ref:a,className:(0,d.cn)("[&_tr:last-child]:border-0",t),...r})});m.displayName="TableBody",l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tfoot",{ref:a,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let u=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tr",{ref:a,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r})});u.displayName="TableRow";let x=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("th",{ref:a,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r})});x.displayName="TableHead";let h=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("td",{ref:a,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r})});h.displayName="TableCell",l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("caption",{ref:a,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption";var g=t(7256),f=t(6061);let p=(0,f.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),b=l.forwardRef((e,a)=>{let{className:t,variant:r,size:l,asChild:o=!1,...n}=e,i=o?g.g7:"button";return(0,s.jsx)(i,{className:(0,d.cn)(p({variant:r,size:l,className:t})),ref:a,...n})});b.displayName="Button";let y=l.forwardRef((e,a)=>{let{className:t,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...l})});y.displayName="Input";var N=t(4527),j=t(1827),w=t(4280),v=t(6264),D=t(3452),C=t(9407),E=t(7216),A=t(9670),S=t(7472),R=t(9617),k=t(1138),U=t(8883),T=t(7158),I=t(2442),L=t(6369);let P=U.fC,M=U.xz;U.ZA,U.Uv,U.Tr,U.Ee,l.forwardRef((e,a)=>{let{className:t,inset:r,children:l,...o}=e;return(0,s.jsxs)(U.fF,{ref:a,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",t),...o,children:[l,(0,s.jsx)(T.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=U.fF.displayName,l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(U.tu,{ref:a,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}).displayName=U.tu.displayName;let F=l.forwardRef((e,a)=>{let{className:t,sideOffset:r=4,...l}=e;return(0,s.jsx)(U.Uv,{children:(0,s.jsx)(U.VY,{ref:a,sideOffset:r,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})})});F.displayName=U.VY.displayName;let _=l.forwardRef((e,a)=>{let{className:t,inset:r,...l}=e;return(0,s.jsx)(U.ck,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",t),...l})});_.displayName=U.ck.displayName,l.forwardRef((e,a)=>{let{className:t,children:r,checked:l,...o}=e;return(0,s.jsxs)(U.oC,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:l,...o,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(U.wU,{children:(0,s.jsx)(I.Z,{className:"h-4 w-4"})})}),r]})}).displayName=U.oC.displayName,l.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(U.Rk,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(U.wU,{children:(0,s.jsx)(L.Z,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=U.Rk.displayName;let B=l.forwardRef((e,a)=>{let{className:t,inset:r,...l}=e;return(0,s.jsx)(U.__,{ref:a,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...l})});B.displayName=U.__.displayName;let G=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(U.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",t),...r})});G.displayName=U.Z0.displayName;let O=e=>{let{password:a}=e,[t,r]=(0,l.useState)(!1);return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-gray-300 font-mono text-sm",children:t?a:"••••••••"}),(0,s.jsx)(b,{variant:"ghost",size:"sm",onClick:()=>r(!t),className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:t?(0,s.jsx)(E.Z,{className:"h-3 w-3"}):(0,s.jsx)(A.Z,{className:"h-3 w-3"})})]})},z=(e,a)=>[{accessorKey:"email",header:"Email",cell:e=>{let{row:a}=e;return(0,s.jsx)("div",{className:"font-medium text-white",children:a.getValue("email")})}},{accessorKey:"name",header:"Name",cell:e=>{let{row:a}=e;return(0,s.jsx)("div",{className:"text-gray-300",children:a.getValue("name")})}},{accessorKey:"role",header:"Role",cell:e=>{let{row:a}=e,t=a.getValue("role");return(0,s.jsx)("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("admin"===t?"bg-red-900/50 text-red-300 border border-red-800":"bg-blue-900/50 text-blue-300 border border-blue-800"),children:t.charAt(0).toUpperCase()+t.slice(1)})}},{accessorKey:"password",header:"Password",cell:e=>{let{row:a}=e;return(0,s.jsx)(O,{password:a.original.password||"No password set"})}},{accessorKey:"created_at",header:"Created",cell:e=>{let{row:a}=e,t=new Date(a.getValue("created_at"));return(0,s.jsx)("div",{className:"text-gray-300 text-sm",children:t.toLocaleDateString()})}},{id:"actions",header:"Actions",cell:t=>{let{row:r}=t,l=r.original;return(0,s.jsxs)(P,{children:[(0,s.jsx)(M,{asChild:!0,children:(0,s.jsxs)(b,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,s.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,s.jsx)(S.Z,{className:"h-4 w-4"})]})}),(0,s.jsxs)(F,{align:"end",className:"bg-gray-900 border-gray-700",children:[(0,s.jsx)(B,{className:"text-gray-300",children:"Actions"}),(0,s.jsx)(G,{className:"bg-gray-700"}),(0,s.jsxs)(_,{onClick:()=>e(l),className:"text-gray-300 hover:bg-gray-800 hover:text-white cursor-pointer",children:[(0,s.jsx)(R.Z,{className:"mr-2 h-4 w-4"}),"Edit member"]}),(0,s.jsxs)(_,{onClick:()=>a(l),className:"text-red-400 hover:bg-red-900/50 hover:text-red-300 cursor-pointer",children:[(0,s.jsx)(k.Z,{className:"mr-2 h-4 w-4"}),"Delete member"]})]})]})}}];var H=t(8712),Z=t(2549);let V=H.fC;H.xz;let K=H.h_;H.x8;let Y=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(H.aV,{ref:a,className:(0,d.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});Y.displayName=H.aV.displayName;let J=l.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(K,{children:[(0,s.jsx)(Y,{}),(0,s.jsxs)(H.VY,{ref:a,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[r,(0,s.jsxs)(H.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(Z.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});J.displayName=H.VY.displayName;let q=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};q.displayName="DialogHeader";let $=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};$.displayName="DialogFooter";let W=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(H.Dx,{ref:a,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});W.displayName=H.Dx.displayName;let X=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(H.dk,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",t),...r})});X.displayName=H.dk.displayName;var Q=t(6743);let ee=(0,f.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ea=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(Q.f,{ref:a,className:(0,d.cn)(ee(),t),...r})});ea.displayName=Q.f.displayName;var et=t(3425),es=t(3523),er=t(9224);let el=et.fC;et.ZA;let eo=et.B4,en=l.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(et.xz,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[r,(0,s.jsx)(et.JO,{asChild:!0,children:(0,s.jsx)(es.Z,{className:"h-4 w-4 opacity-50"})})]})});en.displayName=et.xz.displayName;let ed=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(et.u_,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(er.Z,{className:"h-4 w-4"})})});ed.displayName=et.u_.displayName;let ei=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(et.$G,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(es.Z,{className:"h-4 w-4"})})});ei.displayName=et.$G.displayName;let ec=l.forwardRef((e,a)=>{let{className:t,children:r,position:l="popper",...o}=e;return(0,s.jsx)(et.h_,{children:(0,s.jsxs)(et.VY,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...o,children:[(0,s.jsx)(ed,{}),(0,s.jsx)(et.l_,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(ei,{})]})})});ec.displayName=et.VY.displayName,l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(et.__,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=et.__.displayName;let em=l.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(et.ck,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(et.wU,{children:(0,s.jsx)(I.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(et.eT,{children:r})]})});function eu(e){let{member:a,isOpen:t,onClose:r,onSave:o}=e,[n,d]=(0,l.useState)({email:(null==a?void 0:a.email)||"",name:(null==a?void 0:a.name)||"",role:(null==a?void 0:a.role)||"member",password:""}),[i,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)({}),x=()=>{let e={};return n.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(e.email="Please enter a valid email address"):e.email="Email is required",n.name?n.name.length<2&&(e.name="Name must be at least 2 characters long"):e.name="Name is required",n.role||(e.role="Role is required"),u(e),0===Object.keys(e).length},h=async e=>{if(e.preventDefault(),x()){c(!0);try{let e={email:n.email,name:n.name,role:n.role};n.password.trim()&&(e.password=n.password),await o(a.id,e),r()}catch(e){console.error("Failed to update member:",e),u({submit:e.message||"Failed to update member. Please try again."})}finally{c(!1)}}},g=(e,a)=>{d(t=>({...t,[e]:a})),m[e]&&u(a=>({...a,[e]:""}))};return(0,l.useState)(()=>{a&&(d({email:a.email||"",name:a.name||"",role:a.role||"member",password:""}),u({}))},[a]),(0,s.jsx)(V,{open:t,onOpenChange:r,children:(0,s.jsxs)(J,{className:"sm:max-w-[425px] bg-gray-900 border-gray-700",children:[(0,s.jsxs)(q,{children:[(0,s.jsx)(W,{className:"text-white",children:"Edit Member"}),(0,s.jsx)(X,{className:"text-gray-400",children:"Make changes to the member's profile. Click save when you're done."})]}),(0,s.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ea,{htmlFor:"email",className:"text-gray-300",children:"Email"}),(0,s.jsx)(y,{id:"email",type:"email",value:n.email,onChange:e=>g("email",e.target.value),className:"bg-gray-800 border-gray-600 text-white placeholder:text-gray-400",placeholder:"member@example.com"}),m.email&&(0,s.jsx)("p",{className:"text-red-400 text-sm",children:m.email})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ea,{htmlFor:"name",className:"text-gray-300",children:"Name"}),(0,s.jsx)(y,{id:"name",type:"text",value:n.name,onChange:e=>g("name",e.target.value),className:"bg-gray-800 border-gray-600 text-white placeholder:text-gray-400",placeholder:"John Doe"}),m.name&&(0,s.jsx)("p",{className:"text-red-400 text-sm",children:m.name})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ea,{htmlFor:"role",className:"text-gray-300",children:"Role"}),(0,s.jsxs)(el,{value:n.role,onValueChange:e=>g("role",e),children:[(0,s.jsx)(en,{className:"bg-gray-800 border-gray-600 text-white",children:(0,s.jsx)(eo,{placeholder:"Select a role"})}),(0,s.jsxs)(ec,{className:"bg-gray-800 border-gray-600",children:[(0,s.jsx)(em,{value:"member",className:"text-white hover:bg-gray-700",children:"Member"}),(0,s.jsx)(em,{value:"admin",className:"text-white hover:bg-gray-700",children:"Admin"})]})]}),m.role&&(0,s.jsx)("p",{className:"text-red-400 text-sm",children:m.role})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(ea,{htmlFor:"password",className:"text-gray-300",children:["Password",(0,s.jsx)("span",{className:"text-gray-500 text-sm ml-1",children:"(leave blank to keep current)"})]}),(0,s.jsx)(y,{id:"password",type:"password",value:n.password,onChange:e=>g("password",e.target.value),className:"bg-gray-800 border-gray-600 text-white placeholder:text-gray-400",placeholder:"Enter new password"}),m.password&&(0,s.jsx)("p",{className:"text-red-400 text-sm",children:m.password})]}),m.submit&&(0,s.jsx)("div",{className:"text-red-400 text-sm bg-red-900/20 p-3 rounded border border-red-800",children:m.submit}),(0,s.jsxs)($,{children:[(0,s.jsx)(b,{type:"button",variant:"ghost",onClick:r,className:"text-gray-400 hover:text-white",disabled:i,children:"Cancel"}),(0,s.jsx)(b,{type:"submit",variant:"ghost",className:"bg-blue-600 text-white hover:bg-blue-700",disabled:i,children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})})}em.displayName=et.ck.displayName,l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(et.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=et.Z0.displayName;var ex=t(2506);let eh=ex.fC;ex.xz;let eg=ex.h_,ef=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(ex.aV,{className:(0,d.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:a})});ef.displayName=ex.aV.displayName;let ep=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsxs)(eg,{children:[(0,s.jsx)(ef,{}),(0,s.jsx)(ex.VY,{ref:a,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",t),...r})]})});ep.displayName=ex.VY.displayName;let eb=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...t})};eb.displayName="AlertDialogHeader";let ey=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};ey.displayName="AlertDialogFooter";let eN=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(ex.Dx,{ref:a,className:(0,d.cn)("text-lg font-semibold",t),...r})});eN.displayName=ex.Dx.displayName;let ej=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(ex.dk,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",t),...r})});ej.displayName=ex.dk.displayName,l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(ex.aU,{ref:a,className:(0,d.cn)(p(),t),...r})}).displayName=ex.aU.displayName;let ew=l.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(ex.$j,{ref:a,className:(0,d.cn)(p({variant:"outline"}),"mt-2 sm:mt-0",t),...r})});ew.displayName=ex.$j.displayName;var ev=t(2894);function eD(e){let{member:a,isOpen:t,onClose:r,onDelete:o}=e,[n,d]=(0,l.useState)(!1),[i,c]=(0,l.useState)(""),m=async()=>{d(!0),c("");try{await o(a.id),r()}catch(e){console.error("Failed to delete member:",e),c(e.message||"Failed to delete member. Please try again.")}finally{d(!1)}};return(0,s.jsx)(eh,{open:t,onOpenChange:r,children:(0,s.jsxs)(ep,{className:"bg-gray-900 border-gray-700",children:[(0,s.jsxs)(eb,{children:[(0,s.jsxs)(eN,{className:"text-white flex items-center",children:[(0,s.jsx)(ev.Z,{className:"mr-2 h-5 w-5 text-red-400"}),"Delete Member"]}),(0,s.jsxs)(ej,{className:"text-gray-400",children:["Are you sure you want to delete ",(0,s.jsx)("span",{className:"font-semibold text-white",children:null==a?void 0:a.name})," (",null==a?void 0:a.email,")?",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"This action cannot be undone. This will permanently remove the member's account and all associated data."]})]}),i&&(0,s.jsx)("div",{className:"text-red-400 text-sm bg-red-900/20 p-3 rounded border border-red-800",children:i}),(0,s.jsxs)(ey,{children:[(0,s.jsx)(ew,{className:"bg-gray-800 border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white",disabled:n,children:"Cancel"}),(0,s.jsx)(b,{variant:"ghost",onClick:m,disabled:n,className:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Member"})]})]})})}function eC(e){let{isOpen:a,onClose:t,onAdd:r}=e,[o,n]=(0,l.useState)({email:"",name:"",role:"member"}),[d,i]=(0,l.useState)(!1),[c,m]=(0,l.useState)({}),u=()=>{let e={};return o.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(e.email="Please enter a valid email address"):e.email="Email is required",o.name?o.name.length<2&&(e.name="Name must be at least 2 characters long"):e.name="Name is required",o.role||(e.role="Role is required"),m(e),0===Object.keys(e).length},x=async e=>{if(e.preventDefault(),u()){i(!0);try{await r(o),n({email:"",name:"",role:"member"}),m({}),t()}catch(e){console.error("Failed to add member:",e),m({submit:e.message||"Failed to add member. Please try again."})}finally{i(!1)}}},h=(e,a)=>{n(t=>({...t,[e]:a})),c[e]&&m(a=>({...a,[e]:""}))},g=()=>{n({email:"",name:"",role:"member"}),m({}),t()};return(0,s.jsx)(V,{open:a,onOpenChange:g,children:(0,s.jsxs)(J,{className:"sm:max-w-[425px] bg-gray-900 border-gray-700",children:[(0,s.jsxs)(q,{children:[(0,s.jsxs)(W,{className:"text-white flex items-center",children:[(0,s.jsx)(N.Z,{className:"mr-2 h-5 w-5"}),"Add New Member"]}),(0,s.jsx)(X,{className:"text-gray-400",children:"Add a new member to the allowed emails list. They will be able to create an account with this information."})]}),(0,s.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ea,{htmlFor:"add-email",className:"text-gray-300",children:"Email"}),(0,s.jsx)(y,{id:"add-email",type:"email",value:o.email,onChange:e=>h("email",e.target.value),className:"bg-gray-800 border-gray-600 text-white placeholder:text-gray-400",placeholder:"member@example.com"}),c.email&&(0,s.jsx)("p",{className:"text-red-400 text-sm",children:c.email})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ea,{htmlFor:"add-name",className:"text-gray-300",children:"Name"}),(0,s.jsx)(y,{id:"add-name",type:"text",value:o.name,onChange:e=>h("name",e.target.value),className:"bg-gray-800 border-gray-600 text-white placeholder:text-gray-400",placeholder:"John Doe"}),c.name&&(0,s.jsx)("p",{className:"text-red-400 text-sm",children:c.name})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ea,{htmlFor:"add-role",className:"text-gray-300",children:"Role"}),(0,s.jsxs)(el,{value:o.role,onValueChange:e=>h("role",e),children:[(0,s.jsx)(en,{className:"bg-gray-800 border-gray-600 text-white",children:(0,s.jsx)(eo,{placeholder:"Select a role"})}),(0,s.jsxs)(ec,{className:"bg-gray-800 border-gray-600",children:[(0,s.jsx)(em,{value:"member",className:"text-white hover:bg-gray-700",children:"Member"}),(0,s.jsx)(em,{value:"admin",className:"text-white hover:bg-gray-700",children:"Admin"})]})]}),c.role&&(0,s.jsx)("p",{className:"text-red-400 text-sm",children:c.role})]}),c.submit&&(0,s.jsx)("div",{className:"text-red-400 text-sm bg-red-900/20 p-3 rounded border border-red-800",children:c.submit}),(0,s.jsxs)($,{children:[(0,s.jsx)(b,{type:"button",variant:"ghost",onClick:g,className:"text-gray-400 hover:text-white",disabled:d,children:"Cancel"}),(0,s.jsx)(b,{type:"submit",variant:"ghost",className:"bg-green-600 text-white hover:bg-green-700",disabled:d,children:d?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):"Add Member"})]})]})]})})}function eE(){var e;let[a,t]=(0,l.useState)([]),[r,d]=(0,l.useState)(!0),[g,f]=(0,l.useState)(""),[p,E]=(0,l.useState)({pageIndex:0,pageSize:10}),[A,S]=(0,l.useState)(0),[R,k]=(0,l.useState)(0),[U,T]=(0,l.useState)([]),[I,L]=(0,l.useState)([]),[P,M]=(0,l.useState)(null),[F,_]=(0,l.useState)(null),[B,G]=(0,l.useState)(!1),{showPopup:O}=(0,D.useAuth)(),H=async()=>{d(!0);try{let e=new URLSearchParams({page:(p.pageIndex+1).toString(),limit:p.pageSize.toString(),...g&&{search:g}}),a=await (0,C.k6)("".concat(C.Pn.ADMIN.MEMBERS,"?").concat(e),{method:"GET"});if(a.success&&a.data)t(a.data.members||[]),k(a.data.total||0),S(a.data.total_pages||0);else throw Error(a.error||"Failed to fetch members")}catch(e){console.error("Error fetching members:",e),O("Failed to fetch members: ".concat(e.message),"error"),t([])}finally{d(!1)}};(0,l.useEffect)(()=>{H()},[p.pageIndex,p.pageSize,g]);let Z=async(e,a)=>{try{let t=await (0,C.k6)(C.Pn.ADMIN.MEMBER_UPDATE(e),{method:"PUT",body:a});if(t.success)O("Member updated successfully!","success"),await H();else throw Error(t.error||"Failed to update member")}catch(e){throw console.error("Error updating member:",e),e}},V=async e=>{try{let a=await (0,C.k6)(C.Pn.ADMIN.MEMBER_DELETE(e),{method:"DELETE"});if(a.success)O("Member deleted successfully!","success"),await H();else throw Error(a.error||"Failed to delete member")}catch(e){throw console.error("Error deleting member:",e),e}},K=async e=>{try{let a=await (0,C.k6)(C.Pn.ADMIN.ADD_EMAIL,{method:"POST",body:e});if(a.success)O("Member added to allowed emails successfully!","success"),await H();else throw Error(a.error||"Failed to add member")}catch(e){throw console.error("Error adding member:",e),e}},Y=z(e=>{M(e)},e=>{_(e)}),J=(0,o.b7)({data:a,columns:Y,getCoreRowModel:(0,n.sC)(),getPaginationRowModel:(0,n.G_)(),getSortedRowModel:(0,n.tj)(),getFilteredRowModel:(0,n.vL)(),onSortingChange:T,onColumnFiltersChange:L,onPaginationChange:E,state:{sorting:U,columnFilters:I,pagination:p},manualPagination:!0,pageCount:A});return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 rounded-xl p-8 border border-gray-700",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Members Management"}),(0,s.jsxs)("p",{className:"text-gray-300 text-lg",children:["Manage member accounts and permissions • ",R," total members"]})]}),(0,s.jsxs)(b,{onClick:()=>G(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,s.jsx)(N.Z,{className:"mr-2 h-5 w-5"}),"Add Member"]})]})}),(0,s.jsx)("div",{className:"bg-gray-900/50 backdrop-blur rounded-xl p-6 border border-gray-700",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(j.Z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,s.jsx)(y,{placeholder:"Search members by name or email...",value:g,onChange:e=>f(e.target.value),className:"pl-12 pr-4 py-3 bg-gray-800/70 border-gray-600 text-white placeholder:text-gray-400 rounded-lg text-base focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)(b,{variant:"outline",onClick:H,disabled:r,className:"border-gray-600 text-gray-300 hover:text-white hover:bg-gray-700 px-6 py-3 rounded-lg transition-all duration-200",children:[(0,s.jsx)(w.Z,{className:"mr-2 h-5 w-5 ".concat(r?"animate-spin":"")}),"Refresh"]})]})}),(0,s.jsx)("div",{className:"bg-gray-900/50 backdrop-blur rounded-xl border border-gray-700 overflow-hidden",children:(0,s.jsxs)(i,{children:[(0,s.jsx)(c,{children:J.getHeaderGroups().map(e=>(0,s.jsx)(u,{className:"border-gray-700 bg-gray-800/50",children:e.headers.map(e=>(0,s.jsx)(x,{className:"text-gray-200 font-semibold py-4 px-6",children:e.isPlaceholder?null:(0,o.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,s.jsx)(m,{children:r?(0,s.jsx)(u,{children:(0,s.jsx)(h,{colSpan:Y.length,className:"h-32 text-center bg-gray-900/30",children:(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)(v.Z,{className:"mr-3 h-6 w-6 animate-spin text-blue-500"}),(0,s.jsx)("span",{className:"text-gray-300 text-lg",children:"Loading members..."})]})})}):(null===(e=J.getRowModel().rows)||void 0===e?void 0:e.length)?J.getRowModel().rows.map(e=>(0,s.jsx)(u,{className:"border-gray-700 hover:bg-gray-800/40 transition-colors duration-200","data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,s.jsx)(h,{className:"text-gray-200 py-4 px-6",children:(0,o.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,s.jsx)(u,{children:(0,s.jsx)(h,{colSpan:Y.length,className:"h-32 text-center bg-gray-900/30",children:(0,s.jsx)("div",{className:"text-gray-400 text-lg",children:g?"No members found matching your search.":"No members found."})})})})]})}),(0,s.jsx)("div",{className:"bg-gray-900/50 backdrop-blur rounded-xl p-6 border border-gray-700",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,s.jsx)("div",{className:"text-gray-300 text-base",children:R>0&&(0,s.jsxs)(s.Fragment,{children:["Showing ",(0,s.jsx)("span",{className:"font-medium text-white",children:p.pageIndex*p.pageSize+1})," to"," ",(0,s.jsx)("span",{className:"font-medium text-white",children:Math.min((p.pageIndex+1)*p.pageSize,R)})," of"," ",(0,s.jsx)("span",{className:"font-medium text-white",children:R})," members"]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(b,{variant:"outline",size:"sm",onClick:()=>J.previousPage(),disabled:!J.getCanPreviousPage(),className:"border-gray-600 text-gray-300 hover:text-white hover:bg-gray-700 px-4 py-2 rounded-lg transition-all duration-200",children:"Previous"}),(0,s.jsx)(b,{variant:"outline",size:"sm",onClick:()=>J.nextPage(),disabled:!J.getCanNextPage(),className:"border-gray-600 text-gray-300 hover:text-white hover:bg-gray-700 px-4 py-2 rounded-lg transition-all duration-200",children:"Next"})]})]})}),(0,s.jsx)(eu,{member:P,isOpen:!!P,onClose:()=>M(null),onSave:Z}),(0,s.jsx)(eD,{member:F,isOpen:!!F,onClose:()=>_(null),onDelete:V}),(0,s.jsx)(eC,{isOpen:B,onClose:()=>G(!1),onAdd:K})]})}var eA=()=>(0,s.jsx)(r.Z,{requiredRole:"admin",children:(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800",children:(0,s.jsx)("div",{className:"container mx-auto py-8 px-6",children:(0,s.jsx)(eE,{})})})})},4512:function(e,a,t){"use strict";var s=t(7437),r=t(2265),l=t(4033),o=t(3452);a.Z=e=>{let{children:a,requiredRole:t,redirectTo:n="/auth/login"}=e,{user:d,isAuthenticated:i,isLoading:c,showPopup:m}=(0,o.useAuth)(),[u,x]=(0,r.useState)(!0),h=(0,l.useRouter)();return((0,r.useEffect)(()=>{if(!c){if(!i){"admin"===t?(m("You need to be logged in as an admin to access this page!"),h.push("/")):h.push(n);return}if(t&&(null==d?void 0:d.role)!==t&&"admin"===t){m("You need to be an admin to access this page!"),h.push("/");return}x(!1)}},[i,c,d,t,h,n,m]),c||u)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-secondary-50",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-secondary-600",children:"Loading..."})]})}):(0,s.jsx)(s.Fragment,{children:a})}},3452:function(e,a,t){"use strict";t.r(a),t.d(a,{AuthProvider:function(){return u},useAuth:function(){return n}});var s=t(7437),r=t(2265),l=t(9407);let o=(0,r.createContext)(void 0),n=()=>{let e=(0,r.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},d=(e,a)=>{let t={token:e,user:{email:a.email,role:a.role,full_name:a.full_name||a.name,id:a.id},credentials:{email:a.email,password:a.password}};localStorage.setItem("munAuth",JSON.stringify(t.credentials)),localStorage.setItem("munAuthToken",e),localStorage.setItem("munAuthUser",JSON.stringify(t.user))},i=()=>{try{let e=localStorage.getItem("munAuthToken"),a=localStorage.getItem("munAuthUser"),t=localStorage.getItem("munAuth");if(!e||!a||!t)return null;return{token:e,user:JSON.parse(a),credentials:JSON.parse(t)}}catch(e){return null}},c=()=>{localStorage.removeItem("munAuth"),localStorage.removeItem("munAuthToken"),localStorage.removeItem("munAuthUser")},m=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",t=document.createElement("div");t.innerHTML='\n    <div style="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      background: '.concat("error"===a?"#ef4444":"#10b981",";\n      color: white;\n      padding: 16px 24px;\n      border-radius: 8px;\n      box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n      z-index: 9999;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      font-size: 14px;\n      font-weight: 500;\n      max-width: 400px;\n      animation: slideIn 0.3s ease-out;\n    \">\n      ").concat(e,"\n    </div>\n  ");let s=document.createElement("style");s.textContent="\n    @keyframes slideIn {\n      from { transform: translateX(100%); opacity: 0; }\n      to { transform: translateX(0); opacity: 1; }\n    }\n  ",document.head.appendChild(s),document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),s.parentNode&&s.parentNode.removeChild(s)},4e3)},u=e=>{let{children:a}=e,[t,n]=(0,r.useState)(null),[u,x]=(0,r.useState)(!0),[h,g]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{let e=i();if(console.log("\uD83C\uDFC1 INIT DEBUG - Auth data from localStorage:",e),e){var a;console.log("\uD83C\uDFC1 INIT DEBUG - User from localStorage:",e.user),console.log("\uD83C\uDFC1 INIT DEBUG - User role from localStorage:",null===(a=e.user)||void 0===a?void 0:a.role);let t=await (0,l.k_)(l.Pn.AUTH.LOGIN,{method:"POST",body:e.credentials});console.log("\uD83C\uDFC1 INIT DEBUG - Verification response:",t),t.success&&t.data&&t.data.success?(console.log("\uD83C\uDFC1 INIT DEBUG - Setting user from localStorage:",e.user),n(e.user),p(e.token),g(!0)):(console.log("\uD83C\uDFC1 INIT DEBUG - Verification failed, clearing auth data"),c())}else console.log("\uD83C\uDFC1 INIT DEBUG - No auth data found in localStorage");x(!1)})()},[]);let b=async(e,a)=>{x(!0);try{var t,s,r,o;let i=await (0,l.k_)(l.Pn.AUTH.LOGIN,{method:"POST",body:{email:e,password:a}});if(console.log("\uD83D\uDD0D AUTH DEBUG - API Response:",i),console.log("\uD83D\uDD0D AUTH DEBUG - Response success:",i.success),console.log("\uD83D\uDD0D AUTH DEBUG - Response data:",i.data),console.log("\uD83D\uDD0D AUTH DEBUG - User data:",null===(t=i.data)||void 0===t?void 0:t.user),console.log("\uD83D\uDD0D AUTH DEBUG - User role:",null===(r=i.data)||void 0===r?void 0:null===(s=r.user)||void 0===s?void 0:s.role),!i.success||!i.data||!i.data.success)return{success:!1,error:(null===(o=i.data)||void 0===o?void 0:o.error)||i.error||"Login failed"};{let e="token_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),t={...i.data.user,password:a};return d(e,t),n(i.data.user),p(e),g(!0),console.log("✅ AUTH DEBUG - User set in context:",i.data.user),console.log("✅ AUTH DEBUG - Auth state updated, isAuthenticated: true"),{success:!0,user:i.data.user,token:e}}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Login failed"}}finally{x(!1)}},y=async e=>{try{let a=await (0,l.k_)(l.Pn.AUTH.CHECK_EMAIL,{method:"POST",body:{email:e}});if(console.log("\uD83D\uDD0D EMAIL CHECK DEBUG - Raw response:",a),console.log("\uD83D\uDD0D EMAIL CHECK DEBUG - Response success:",a.success),console.log("\uD83D\uDD0D EMAIL CHECK DEBUG - Response data:",a.data),!a.success||!a.data)return{success:!1,exists:!1,error:a.error||"Check failed"};{let e=a.data;if(console.log("\uD83D\uDD0D EMAIL CHECK DEBUG - Email allowed:",e.allowed),console.log("\uD83D\uDD0D EMAIL CHECK DEBUG - Account exists:",e.account_exists),e.allowed)return{success:!0,exists:e.account_exists||!1,name:e.name,role:e.role};return{success:!1,exists:!1,error:"Email not pre-approved for registration"}}}catch(e){return console.error("\uD83D\uDD0D EMAIL CHECK DEBUG - Exception:",e),{success:!1,exists:!1,error:e instanceof Error?e.message:"Check failed"}}},N=async e=>{try{var a;let t=await (0,l.k_)(l.Pn.AUTH.CREATE_ACCOUNT,{method:"POST",body:e});if(t.success&&t.data&&t.data.success)return await b(e.email,e.password);return{success:!1,error:(null===(a=t.data)||void 0===a?void 0:a.error)||t.error||"Registration failed"}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Registration failed"}}};return(0,s.jsx)(o.Provider,{value:{user:t,isLoading:u,isAuthenticated:h,authToken:f,login:b,logout:()=>{c(),n(null),p(null),g(!1),window.location.href="/"},checkEmailAvailability:y,register:N,checkAdminAccess:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return h?(null==t?void 0:t.role)==="admin"||(e&&m("You need to be an admin to access this page!"),!1):(e&&m("You need to be logged in as an admin to access this page!"),!1)},showPopup:m},children:a})};a.default=o},9407:function(e,a,t){"use strict";t.d(a,{Pn:function(){return c},Sv:function(){return i},WA:function(){return r},cT:function(){return d},k6:function(){return n},k_:function(){return o}});let s="http://127.0.0.1:8000",r=()=>{let e=localStorage.getItem("munAuth");if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},l=e=>{let a=e||r();return a?{Authorization:"".concat(a.email,":").concat(a.password)}:{}},o=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let t="".concat(s).concat(e);console.log("\uD83C\uDF10 API CALL DEBUG - URL:",t),console.log("\uD83C\uDF10 API CALL DEBUG - API_BASE_URL:",s),console.log("\uD83C\uDF10 API CALL DEBUG - endpoint:",e),console.log("\uD83C\uDF10 API CALL DEBUG - Options:",a);let r={headers:{"Content-Type":"application/json",...a.headers},...a};r.body&&"object"==typeof r.body&&(r.body=JSON.stringify(r.body),console.log("\uD83C\uDF10 API CALL DEBUG - Stringified body:",r.body)),console.log("\uD83C\uDF10 API CALL DEBUG - Making fetch request to:",t);let l=await fetch(t,r);if(console.log("\uD83C\uDF10 API CALL DEBUG - Response status:",l.status),console.log("\uD83C\uDF10 API CALL DEBUG - Response ok:",l.ok),!l.ok){let e=await l.text();return console.log("\uD83C\uDF10 API CALL DEBUG - Error text:",e),{success:!1,error:e||"HTTP ".concat(l.status,": ").concat(l.statusText)}}let o=await l.json();console.log("\uD83C\uDF10 API CALL DEBUG - Raw response data:",o);let n={success:!0,data:o};return console.log("\uD83C\uDF10 API CALL DEBUG - Final result:",n),n}catch(e){return console.log("\uD83C\uDF10 API CALL DEBUG - Catch error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}},n=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=l();return o(e,{...a,headers:{"Content-Type":"application/json",...t,...a.headers}})},d=async(e,a)=>{try{let t=l(),r="".concat(s).concat(e),o=await fetch(r,{method:"POST",headers:{...t},body:a});if(!o.ok){let e=await o.text();return{success:!1,error:e||"HTTP ".concat(o.status,": ").concat(o.statusText)}}let n=await o.json();return{success:!0,data:n}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Upload failed"}}},i=async(e,a)=>{try{let t=l(),r="".concat(s).concat(e),o=await fetch(r,{headers:t});if(o.ok){let e=await o.blob(),t=window.URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=a,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(t),document.body.removeChild(s)}else throw Error("Download failed")}catch(e){throw console.error("Download error:",e),e}},c={AUTH:{CHECK_EMAIL:"/api/auth/check-email",CREATE_ACCOUNT:"/api/auth/create-account",LOGIN:"/api/auth/login"},BLOGS:{LIST:"/api/blogs",GET:e=>"/api/blogs/".concat(e),CREATE:"/api/blogs",UPDATE:e=>"/api/blogs/".concat(e),DELETE:e=>"/api/blogs/".concat(e)},RESOURCES:{LIST:"/api/resources",UPLOAD:"/api/admin/resources/upload",DOWNLOAD:e=>"/api/resources/".concat(e,"/download"),DELETE:e=>"/api/resources/".concat(e)},ADMIN:{DASHBOARD_STATS:"/api/admin/dashboard/stats",MEMBERS:"/api/admin/members",MEMBER_UPDATE:e=>"/api/admin/members/".concat(e),MEMBER_DELETE:e=>"/api/admin/members/".concat(e),ADD_EMAIL:"/api/admin/members/add-email",AUTHORS:"/api/admin/authors",CREATE_AUTHOR:"/api/admin/authors"},HEALTH:"/health"}},2169:function(e,a,t){"use strict";t.d(a,{cn:function(){return l}});var s=t(7042),r=t(4769);function l(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.m6)((0,s.W)(a))}}},function(e){e.O(0,[180,471,971,938,744],function(){return e(e.s=8967)}),_N_E=e.O()}]);